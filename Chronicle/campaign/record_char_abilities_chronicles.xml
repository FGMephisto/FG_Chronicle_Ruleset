<?xml version="1.0" encoding="iso-8859-1"?>

<root>

<!-- =================================================================================================================== -->
	<windowclass name="charsheet_skills">
		<margins control="0,0,0,2" />
		
		<sheetdata>
			<frame_char name="abilitiesframe">
				<bounds>15,0,-29,-5</bounds>
			</frame_char>
			
			<label_frametop>
				<anchored to="abilitiesframe" />
				<static text="Abilities / Specialities" />
			</label_frametop>
			
			<list_charabilities name="abilities">
				<anchored to="abilitiesframe">
					<left offset="15" />
					<top offset="35" />
					<right offset="-15" />
					<bottom offset="-20" />
				</anchored>
			</list_charabilities>
			
			<scrollbar_list>
				<anchored to="abilities" />
				<target>abilities</target>
			</scrollbar_list>

			<button_iedit name="abilities_iedit">
				<anchored to="abilities" position="aboveright" offset="5,5" />
				<target>abilities</target>
			</button_iedit>
			
			<button_iadd name="abilities_iadd">
				<anchored to="abilities_iedit" position="lefthigh" offset="5,0" />
				<target>abilities</target>
			</button_iadd>
			
		</sheetdata>
	</windowclass>

<!-- =================================================================================================================== -->
	<windowclass name="charsheet_abilities_header">
		<margins control="0,0,0,5" />
		<backcolor>4040301E</backcolor>
		
		<sheetdata>

			<stringfield name="label">
				<anchored height="20">
					<top offset="5" />
					<left offset="5" />
				</anchored>
				<disabled />
			</stringfield>

		</sheetdata>
	</windowclass>
	
<!-- =================================================================================================================== -->
	<windowclass name="char_abilities">
		<margins control="0,0,5,5" />
		
		<script>
			function onDoubleClick(x, y)
				local nDiceTest = getDatabaseNode().getChild("dicetest").getValue();
				local nDiceBonus = 0;
				local sAbility = name.getValue();
				ActionRolls.controlRoll(nDiceTest, nDiceBonus, sAbility);
				return true;
			end
		</script>

		<sheetdata>
			<subwindow name="header">
				<anchored position="insidetop">
			   	</anchored>
				<class>charsheet_abilities_header</class>
				<fastinit />
				<activate />
			</subwindow>

			<genericcontrol name="rightanchor">
				<anchored height="0" width="0">
					<top offset="5" />
					<right />
				</anchored>
			</genericcontrol>

			<button_idelete name="abilities_idelete">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_idelete>

			<button_iadd name="specialities_iadd">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
				<target>specialities</target>
			</button_iadd>

			<basicnumber name="dicetest">
				<anchored to="rightanchor" width="30" height="20" offset="30,5">
					<top />
					<right anchor="left" relation="relative" offset="-7" />
				</anchored>
				<tabtarget next="name" />
				<script>
					function onDoubleClick(x, y)
						return window.onDoubleClick(x, y);
					end

					function onGainFocus()
						window.setFrame("rowshade");
					end

					function onLoseFocus()
						window.setFrame(nil);
					end
				</script>
			</basicnumber>

			<stringfield name="name">
				<anchored>
					<top offset="5" />
					<left offset="5" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<tabtarget next="dicetest" />
				<font>reference-b-large</font>
				<multilinespacing>20</multilinespacing>
			</stringfield>

			<list_charspecialities name="specialities">
				<anchored to="header">
					<top anchor="bottom" offset="2" />
					<left />
					<right />
				</anchored>
			</list_charspecialities>

		</sheetdata>
	</windowclass>

<!-- =================================================================================================================== -->
	<windowclass name="char_specialities">
		<margins control="0,0,0,3" />
		
		<script>
			function onDoubleClick(x, y)
				local nDiceTest = getDatabaseNode().getParent().getParent().getChild("dicetest").getValue();
				local nDiceBonus = dicebonus.getValue();
				local sSpeciality = name.getValue()
				ActionRolls.controlRoll(nDiceTest, nDiceBonus, sSpeciality);
				return true;
			end
		</script>
		
		<sheetdata>
			<genericcontrol name="rightanchor">
				<anchored height="0" width="0">
					<top offset="2" />
					<right />
				</anchored>
			</genericcontrol>
			
			<button_idelete name="idelete">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_idelete>

			<basicnumber name="dicebonus">
				<anchored to="rightanchor" width="30" height="20">
					<top />
					<right anchor="left" relation="relative" offset="-7" />
				</anchored>
				<tabtarget next="name" />
				<script>
					function onDoubleClick(x, y)
						return window.onDoubleClick(x, y);
					end

					function onGainFocus()
						window.setFrame("rowshade");
					end

					function onLoseFocus()
						window.setFrame(nil);
					end
				</script>
			</basicnumber>

			<string_textlistitem name="name">
				<anchored position="insidetopleft" offset="5,2" height="20">
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<tabtarget next="dicebonus" />
			</string_textlistitem>
			
		</sheetdata>
	</windowclass>
</root>
